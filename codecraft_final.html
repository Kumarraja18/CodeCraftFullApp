<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>CodeCraft</title>
<link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
<style>
* { font-family: 'Inter', sans-serif; }
.code-editor{ font-family: 'JetBrains Mono', monospace!important; }
.resizer{ cursor:col-resize; user-select:none; }

/* Enhanced Themes */
.theme-blue{ 
    --bg: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
    --panel: rgba(30, 41, 59, 0.8);
    --text: #f1f5f9;
    --border: rgba(148, 163, 184, 0.2);
    --accent: #3b82f6;
    --button-bg: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
    --button-hover: linear-gradient(135deg, #1d4ed8 0%, #1e40af 100%);
    --button-text: #ffffff;
    --editor-bg: rgba(15, 23, 42, 0.9);
    --glass: rgba(30, 41, 59, 0.7);
    --shadow: rgba(0, 0, 0, 0.3);
}

.theme-dark {
    --bg-primary: #0f0f0f;
    --bg-secondary: #1a1a1a;
    --bg-tertiary: #2d2d2d;
    --text-primary: #ffffff;
    --text-secondary: #b3b3b3;
    --accent: #ffd700;
    --accent-hover: #ffed4a;
    --border: #404040;
    --shadow: rgba(0, 0, 0, 0.5);
    
    /* Apply dark theme variables */
    --bg: linear-gradient(135deg, #0f0f0f 0%, #1a1a1a 100%);
    --panel: rgba(26, 26, 26, 0.9);
    --text: #ffffff;
    --button-bg: linear-gradient(135deg, #ffd700 0%, #ffed4a 100%);
    --button-hover: linear-gradient(135deg, #ffed4a 0%, #fbbf24 100%);
    --button-text: #000000;
    --editor-bg: rgba(15, 15, 15, 0.95);
    --glass: rgba(26, 26, 26, 0.8);
}

.theme-light{ 
    --bg: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
    --panel: rgba(255, 255, 255, 0.9);
    --text: #1e293b;
    --border: rgba(148, 163, 184, 0.3);
    --accent: #3b82f6;
    --button-bg: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
    --button-hover: linear-gradient(135deg, #1d4ed8 0%, #1e40af 100%);
    --button-text: #ffffff;
    --editor-bg: rgba(255, 255, 255, 0.95);
    --glass: rgba(255, 255, 255, 0.8);
    --shadow: rgba(0, 0, 0, 0.1);
}

/* Glass morphism effects */
.glass {
    background: var(--glass);
    backdrop-filter: blur(10px);
    border: 1px solid var(--border);
    box-shadow: 0 8px 32px var(--shadow);
}

.themed{ background: var(--bg); color:var(--text); }
.themed-panel{ background: var(--panel); backdrop-filter: blur(10px); }
.themed-border{ border-color:var(--border); }
.themed-accent{ color:var(--accent); }
.themed-button{ 
    background: var(--button-bg); 
    color:var(--button-text); 
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px var(--shadow);
}
.themed-button:hover{ 
    background: var(--button-hover); 
    transform: translateY(-2px);
    box-shadow: 0 8px 25px var(--shadow);
}

/* Animations */
@keyframes slideIn {
    from { opacity: 0; transform: translateY(30px); }
    to { opacity: 1; transform: translateY(0); }
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
}

.slide-in { animation: slideIn 0.6s ease-out; }
.fade-in { animation: fadeIn 0.8s ease-out; }
.pulse-hover:hover { animation: pulse 0.6s ease-in-out; }

/* Tab styling */
.tab-active{ 
    color: var(--accent); 
    border-bottom: 3px solid var(--accent);
    background: rgba(59, 130, 246, 0.1);
}
.tab-inactive{ color: var(--text); transition: all 0.3s ease; }
.tab-inactive:hover{ 
    color: var(--accent); 
    background: rgba(59, 130, 246, 0.05);
}

.editor-textarea{ 
    background: var(--editor-bg); 
    color: var(--text); 
    border: 1px solid var(--border);
    transition: all 0.3s ease;
}
.editor-textarea:focus{ 
    outline: none; 
    border-color: var(--accent);
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

/* Auth form styling */
.auth-input {
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid var(--border);
    color: var(--text);
    transition: all 0.3s ease;
}
.auth-input:focus {
    outline: none;
    border-color: var(--accent);
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    background: rgba(255, 255, 255, 0.15);
}

/* Logo styling */
.code-logo {
    font-family: 'JetBrains Mono', monospace;
    font-size: 2.5rem;
    font-weight: 700;
    color: var(--accent);
    text-shadow: 0 0 20px rgba(59, 130, 246, 0.5);
}

.code-logo-small {
    font-family: 'JetBrains Mono', monospace;
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--accent);
}

/* Remove scrollbars */
html, body {
    overflow: hidden;
    height: 100vh;
}

#authPage {
    height: 100vh;
    overflow: hidden;
}

#editorPage {
    height: 100vh;
    overflow: hidden;
}
</style>
</head>
<body class="themed theme-dark transition-all duration-500">

<!-- Auth Page -->
<div id="authPage" class="h-screen flex items-center justify-center p-6">
    <div class="w-full max-w-md">
        <!-- Logo/Title -->
        <div class="text-center mb-6 slide-in">
            <h1 class="text-4xl font-bold mb-1 flex items-center justify-center space-x-2">
                <span class="code-logo">&lt;/&gt;</span>
                <span class="bg-gradient-to-r from-blue-400 to-purple-600 bg-clip-text text-transparent">Code</span><span class="themed-accent">Craft</span>
            </h1>
            <p class="text-gray-400">Craft beautiful code, live.</p>
        </div>

        <!-- Auth Forms Container -->
        <div class="glass rounded-2xl p-8 slide-in">
            <!-- Login Form -->
            <div id="loginForm" class="space-y-6">
                <div class="text-center">
                    <h2 class="text-2xl font-bold themed-accent mb-2">Welcome Back</h2>
                    <p class="text-gray-400">Sign in to your account</p>
                </div>
                
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium mb-2">Email</label>
                        <input type="email" class="auth-input w-full px-4 py-3 rounded-lg" placeholder="Enter your email" required>
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Password</label>
                        <input type="password" class="auth-input w-full px-4 py-3 rounded-lg" placeholder="Enter your password" required>
                    </div>
                </div>

                <button class="themed-button w-full py-3 rounded-lg font-semibold pulse-hover" onclick="enterEditor()">
                    Sign In
                </button>

                <div class="text-center space-y-4">
                    <button class="text-blue-400 hover:text-blue-300 transition-colors" onclick="showSignup()">
                        Don't have an account? Sign up
                    </button>
                    <div class="relative">
                        <div class="absolute inset-0 flex items-center">
                            <div class="w-full border-t themed-border"></div>
                        </div>
                        <div class="relative flex justify-center text-sm">
                            <span class="px-2 themed-panel">or</span>
                        </div>
                    </div>
                    <button class="w-full py-3 rounded-lg font-semibold border-2 themed-border hover:bg-white hover:bg-opacity-5 transition-all pulse-hover" onclick="enterEditor()">
                        Continue as Guest
                    </button>
                </div>
            </div>

            <!-- Signup Form -->
            <div id="signupForm" class="space-y-6 hidden">
                <div class="text-center">
                    <h2 class="text-2xl font-bold themed-accent mb-2">Join CodeCraft</h2>
                    <p class="text-gray-400">Create your account</p>
                </div>
                
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium mb-2">Full Name</label>
                        <input type="text" class="auth-input w-full px-4 py-3 rounded-lg" placeholder="Enter your full name" required>
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Email</label>
                        <input type="email" class="auth-input w-full px-4 py-3 rounded-lg" placeholder="Enter your email" required>
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Password</label>
                        <input type="password" class="auth-input w-full px-4 py-3 rounded-lg" placeholder="Create a password" required>
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Confirm Password</label>
                        <input type="password" class="auth-input w-full px-4 py-3 rounded-lg" placeholder="Confirm your password" required>
                    </div>
                </div>

                <button class="themed-button w-full py-3 rounded-lg font-semibold pulse-hover" onclick="enterEditor()">
                    Create Account
                </button>

                <div class="text-center space-y-4">
                    <button class="text-blue-400 hover:text-blue-300 transition-colors" onclick="showLogin()">
                        Already have an account? Sign in
                    </button>
                    <div class="relative">
                        <div class="absolute inset-0 flex items-center">
                            <div class="w-full border-t themed-border"></div>
                        </div>
                        <div class="relative flex justify-center text-sm">
                            <span class="px-2 themed-panel">or</span>
                        </div>
                    </div>
                    <button class="w-full py-3 rounded-lg font-semibold border-2 themed-border hover:bg-white hover:bg-opacity-5 transition-all pulse-hover" onclick="enterEditor()">
                        Continue as Guest
                    </button>
                </div>
            </div>
        </div>


    </div>
</div>

<!-- Editor Page -->
<div id="editorPage" class="hidden h-screen overflow-hidden">
    <!-- Header -->
    <header class="themed-panel themed-border border-b px-6 py-4 flex justify-between items-center backdrop-blur-lg">
        <div class="flex items-center space-x-4">
            <span class="code-logo-small">&lt;/&gt;</span>
            <div>
                <h1 class="text-3xl font-bold">
                    <span class="bg-gradient-to-r from-blue-400 to-purple-600 bg-clip-text text-transparent">Code</span><span class="themed-accent">Craft</span>
                </h1>
                <span class="text-sm text-gray-400 hidden md:block">Live Code Editor</span>
            </div>
        </div>
        <div class="flex items-center space-x-4">
            <select id="themeSelectEditor" class="themed-button px-3 py-2 rounded-lg text-sm">
                <option value="dark">🌙 Dark</option>
                <option value="blue">💙 Blue</option>
                <option value="light">☀️ Light</option>
            </select>
            <button class="text-gray-400 hover:text-white transition-colors" onclick="showAuth()">
                Sign Out
            </button>
        </div>
    </header>

    <!-- Main layout -->
    <div id="mainContainer" class="flex" style="height: calc(100vh - 80px);">
        <!-- Left Panel -->
        <div id="leftPanel" class="themed-panel themed-border border-r flex flex-col glass" style="width:50%;">
            <!-- Tabs -->
            <div class="flex themed-border border-b">
                <button class="tab-button tab-active px-6 py-4 font-semibold transition-all" data-tab="html">
                    📄 HTML
                </button>
                <button class="tab-button tab-inactive px-6 py-4 font-semibold transition-all" data-tab="css">
                    🎨 CSS
                </button>
                <button class="tab-button tab-inactive px-6 py-4 font-semibold transition-all" data-tab="js">
                    ⚡ JavaScript
                </button>
            </div>
            <!-- Editors -->
            <div class="flex-1 p-6 overflow-hidden">
                <textarea id="htmlEditor" class="code-editor editor-textarea w-full h-full rounded-xl p-6 text-sm resize-none shadow-lg" placeholder="Write your HTML here..."></textarea>
                <textarea id="cssEditor" class="code-editor editor-textarea w-full h-full rounded-xl p-6 text-sm resize-none shadow-lg hidden" placeholder="Write your CSS here..."></textarea>
                <textarea id="jsEditor" class="code-editor editor-textarea w-full h-full rounded-xl p-6 text-sm resize-none shadow-lg hidden" placeholder="Write your JavaScript here..."></textarea>
            </div>
        </div>

        <!-- Resizer -->
        <div id="resizer" class="resizer w-1 bg-gradient-to-b from-blue-400 to-purple-600 hover:w-2 transition-all"></div>

        <!-- Right Panel -->
        <div id="rightPanel" class="flex flex-col glass" style="width:50%;">
            <div class="themed-panel themed-border border-b px-6 py-4 flex justify-between items-center">
                <span class="font-semibold flex items-center">
                    <span class="mr-2">🚀</span>
                    Live Preview
                </span>
            </div>
            <iframe id="preview" class="w-full h-full border-none rounded-bl-xl" sandbox="allow-same-origin allow-scripts"></iframe>
        </div>
    </div>
</div>

<script>
// Theme management
const themeSelectEditor = document.getElementById('themeSelectEditor');

function changeTheme(theme) {
    document.body.className = `themed theme-${theme} transition-all duration-500`;
    if (themeSelectEditor) themeSelectEditor.value = theme;
}

themeSelectEditor.addEventListener('change', () => changeTheme(themeSelectEditor.value));

// Auth page navigation
function showLogin() {
    document.getElementById('loginForm').classList.remove('hidden');
    document.getElementById('signupForm').classList.add('hidden');
    document.getElementById('loginForm').classList.add('slide-in');
}

function showSignup() {
    document.getElementById('signupForm').classList.remove('hidden');
    document.getElementById('loginForm').classList.add('hidden');
    document.getElementById('signupForm').classList.add('slide-in');
}

function showAuth() {
    document.getElementById('authPage').classList.remove('hidden');
    document.getElementById('editorPage').classList.add('hidden');
    showLogin();
}

function enterEditor() {
    document.getElementById('authPage').classList.add('hidden');
    document.getElementById('editorPage').classList.remove('hidden');
    document.getElementById('editorPage').classList.add('fade-in');
}

// Tab switching
const tabs = document.querySelectorAll('.tab-button');
const editors = {
    html: document.getElementById('htmlEditor'),
    css: document.getElementById('cssEditor'),
    js: document.getElementById('jsEditor')
};

tabs.forEach(btn => {
    btn.addEventListener('click', () => {
        tabs.forEach(b => {
            b.classList.remove('tab-active');
            b.classList.add('tab-inactive');
        });
        btn.classList.remove('tab-inactive');
        btn.classList.add('tab-active');
        
        Object.keys(editors).forEach(k => editors[k].classList.add('hidden'));
        editors[btn.dataset.tab].classList.remove('hidden');
    });
});

// Resizer functionality
const resizer = document.getElementById('resizer');
const leftPanel = document.getElementById('leftPanel');
const rightPanel = document.getElementById('rightPanel');
const mainContainer = document.getElementById('mainContainer');
let isResizing = false;

resizer.addEventListener('mousedown', () => {
    isResizing = true;
    document.addEventListener('mousemove', resize);
    document.addEventListener('mouseup', stopResize);
});

function resize(e) {
    if (!isResizing) return;
    const rect = mainContainer.getBoundingClientRect();
    let w = (e.clientX - rect.left) / rect.width * 100;
    w = Math.max(20, Math.min(80, w));
    leftPanel.style.width = `${w}%`;
    rightPanel.style.width = `${100 - w}%`;
}

function stopResize() {
    isResizing = false;
    document.removeEventListener('mousemove', resize);
    document.removeEventListener('mouseup', stopResize);
}

// Code compilation
const preview = document.getElementById('preview');

function compileCode() {
    let htmlCode = editors.html.value || '';
    let cssCode = `<style>${editors.css.value || ''}</style>`;
    let jsCode = `<script>${editors.js.value || ''}<\/script>`;
    
    if (!/<html/i.test(htmlCode)) {
        htmlCode = `<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">${cssCode}</head><body>${htmlCode}${jsCode}</body></html>`;
    } else {
        htmlCode = htmlCode.replace('</head>', cssCode + '</head>').replace('</body>', jsCode + '</body>');
    }
    
    preview.srcdoc = htmlCode;
}

// Auto-compile on input (debounced)
let compileTimeout;
Object.values(editors).forEach(editor => {
    editor.addEventListener('input', () => {
        clearTimeout(compileTimeout);
        compileTimeout = setTimeout(compileCode, 500);
    });
});
// Initial setup
compileCode();
</script>
</body>
</html>